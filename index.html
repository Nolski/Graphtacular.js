<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Test</title>
<<<<<<< HEAD
	<link rel="stylesheet" href="css/main.css">
=======
	<style>
		body{
				background: 'lightgrey';
			}
			#time input{
				font-family: 'Arial';
				font-size: 30px;
				color: 'slategrey';
				font-weight: 900;
			}
	</style>
>>>>>>> d1a602cb72bb645a1ef0128917ea170c6ef26aca
</head>
<body>
	<div class="container">
		<h1>Cool Crime Data</h1>
		<canvas id="canvas" width="800" height="300"></canvas>
		<div id="slider">
			January <input id="slide" type="range" min="0" max="11" step="1" value="0" /> December
		</div>

		<div id = "time"></div>
	</div>
</body>
<script src="graphtacular.js"></script>
<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<script src="js/round-slider.min.js"></script>

<script>
	var canvas = document.getElementById('canvas'),
		context = canvas.getContext('2d'),
		graph,
		slide = document.getElementById('slide'),
		global_data = {};
	slide.onchange = function (e) {
		global_data.forEach(function (thing) {
			console.log(global_data);
			var average = thing.avgs[slide.value];
			if (true) {
				graph.changeBar(thing.event, average);
			};
		});
	};

	canvas.addEventListener('mousemove', function (event) {
		var mousePos = getMousePos(canvas, evt);
		var result = graph.checkHover(mousePos);
		if(result !== false) {

		}
	});

	function getMousePos(canvas, evt) {
		var rect = canvas.getBoundingClientRect();
		return {
			x: evt.clientX - rect.left,
			y: evt.clientY - rect.top
		};
	}

	$(document).ready(function(){
		$.getJSON('monthavgs.json', function(data) {
			global_data = data;
			var jsonData = [];
			$.each(data, function() {
				var average = this.avgs[0];
				var event = this.event;
				if(average >= 1){
					jsonData.push({label : event, value: average});
				}
			});
			var jsonObj = {
				'data':jsonData
			};
			graph = new Graphtacular(context,jsonObj);
		});
		
		
		$('#time').round_slider({
					list: [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2],
				
					min: 0,
					max: 359,
					
					bg: 'img/bg/watch.png',
					handle_bg: 'img/handles/dot.png',
					input_bg: 'img/input/glass.png',
					points_bg: 'img/points/numerals.png',
					
				});
	});


</script>
</html>